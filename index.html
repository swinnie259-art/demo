<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Y2K åƒç´  MP3 æ’­æ”¾å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* å¼•å…¥åƒç´ å­—ä½“ */
        @font-face {
            font-family: 'PixelEmulator';
            src: url('https://fonts.gstatic.com/s/pressstart2p/v15/R70mJzJ2w-d9yIeF_V9Jg7V2BfSgI3Q.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        /* æ ¸å¿ƒæ ·å¼å’Œåƒç´ åŒ–æ•ˆæœ */
        :root {
            --color-blue-light: #B3E5FC; /* å¤©è“è‰² */
            --color-blue-dark: #0288D1;
            --color-green-screen: #C8E6C9; /* æµ…ç»¿è‰²å±å¹• */
            --color-green-dark: #388E3C;
            --color-y2k-pink: #FF4081;
            --color-button: #FFCC80; /* é†’ç›®æ©™è‰² */
            --pixel-border: 6px solid #000000;
        }

        body {
            font-family: 'PixelEmulator', monospace;
            background-color: #E1F5FE; /* ææµ…è“è‰²èƒŒæ™¯ */
            color: #000000;
            display: flex;
            flex-direction: column; /* å…è®¸å†…å®¹ä¸Šä¸‹æµåŠ¨ */
            align-items: center; /* ä¿æŒå†…å®¹æ°´å¹³å±…ä¸­ */
            padding: 20px;
            overflow-y: auto; /* å…è®¸å‚ç›´æ»šåŠ¨ */
            min-width: 360px; /* ç¡®ä¿åœ¨å°å±å¹•ä¸Šæœ‰æœ€å°å®½åº¦ */
        }

        /* é¡¶éƒ¨ä»‹ç»åŒºåŸŸ */
        .intro-section {
            width: 340px;
            max-width: 90vw;
            margin-bottom: 30px;
            text-align: center;
            border: 4px solid #000;
            padding: 15px;
            background-color: #ffffff; 
            box-shadow: 6px 6px 0px var(--color-y2k-pink); /* Y2K ç²‰è‰²é˜´å½± */
            border-radius: 8px;
        }
        
        .intro-title {
            font-size: 16px; 
            margin-bottom: 10px; 
            color: var(--color-blue-dark);
            text-shadow: 1px 1px 0 #fff;
        }
        
        .intro-text {
            font-size: 10px; 
            line-height: 1.5; 
            color: #333;
        }

        /* æˆå‘˜ä»‹ç»åŒºæ ·å¼ */
        .member-section {
            width: 340px;
            max-width: 90vw;
            margin-bottom: 30px;
            text-align: center;
        }

        .member-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .member-button {
            width: 100%;
            aspect-ratio: 1 / 1; /* ä½¿æŒ‰é’®æˆä¸ºæ­£æ–¹å½¢ï¼Œä»¥ä¾¿åˆ¶ä½œåœ†å½¢ */
            border-radius: 9999px; /* åœ†å½¢ */
            background-color: var(--color-y2k-pink); 
            color: #ffffff;
            border: 4px solid #000000;
            font-family: 'PixelEmulator', monospace;
            font-size: 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 4px 4px 0px var(--color-blue-dark);
            transition: all 0.05s linear;
            text-shadow: 1px 1px 0 #000;
            line-height: 1.2;
            padding: 5px;
        }

        .member-button:active {
            box-shadow: 0px 0px 0px #000000;
            transform: translate(4px, 4px);
            background-color: #FF80AB;
        }

        /* æˆå‘˜ç®€ä»‹æ˜¾ç¤ºæ¡† */
        #profileDisplay {
            border: 4px solid var(--color-green-dark); /* ä½¿ç”¨ç»¿è‰²ä¸»é¢˜ */
            box-shadow: 6px 6px 0px var(--color-green-dark);
            padding: 15px;
            background-color: #E8F5E9; /* æµ…ç»¿è‰²èƒŒæ™¯ */
            display: none; /* é»˜è®¤éšè— */
            text-align: left;
            min-height: 100px;
            width: 100%;
            border-radius: 8px;
        }
        .profile-title {
            font-size: 14px;
            margin-bottom: 8px;
            color: var(--color-y2k-pink);
        }
        .profile-info {
            font-size: 8px;
            color: #000;
            line-height: 1.6;
        }

        /* MP3 æ’­æ”¾å™¨å®¹å™¨ */
        .mp3-player {
            width: 340px;
            background-color: var(--color-blue-light);
            border: var(--pixel-border);
            border-radius: 12px;
            box-shadow: 8px 8px 0px 0px #000000, 
                        -4px -4px 0px 0px #ffffff,
                        inset 4px 4px 0px var(--color-blue-dark),
                        inset -4px -4px 0px #ffffff;
            padding: 16px;
            position: relative;
            overflow: hidden;
            max-width: 90vw;
        }

        /* Y2K è£…é¥°å…ƒç´  */
        .y2k-deco {
            position: absolute;
            font-size: 28px;
            text-shadow: 2px 2px 0 #000000;
            z-index: 10;
            pointer-events: none;
            opacity: 0.8;
            line-height: 1;
        }
        .star { top: 8px; left: 10px; color: #FFEB3B; transform: rotate(10deg); } /* é»„è‰²æ˜Ÿæ˜Ÿ */
        .wing { bottom: 8px; right: 10px; font-size: 34px; color: var(--color-y2k-pink); } /* ç²‰è‰²ç¿…è†€ */
        .palm { top: 30px; right: 15px; font-size: 24px; color: var(--color-green-dark); } /* ç»¿è‰²æ¤°æ ‘ */
        
        /* å±å¹•åŒºåŸŸ */
        .screen {
            background-color: var(--color-green-screen);
            border: 4px solid #000000;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 20px;
            height: 160px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: inset 2px 2px 0px var(--color-green-dark), inset -2px -2px 0px #ffffff;
            position: relative;
            overflow: hidden;
        }

        /* è¾“å…¥æ¡†å®¹å™¨ */
        .input-area {
            width: 95%;
            padding: 5px;
        }

        /* å•ä¸ªè¾“å…¥æ¡† */
        .song-input {
            width: 100%;
            padding: 6px;
            margin: 5px 0;
            background-color: #E0E0E0;
            border: 2px solid #000000;
            box-sizing: border-box;
            font-family: 'PixelEmulator', monospace;
            font-size: 8px; 
            color: var(--color-blue-dark);
            outline: none;
            text-transform: lowercase;
            line-height: 1.2;
            position: relative;
        }

        /* è€å¼å…‰æ ‡æ•ˆæœ */
        .input-wrapper {
            position: relative;
            margin: 5px 0;
        }
        .cursor {
            display: none;
            width: 4px;
            height: 8px;
            background-color: #000000;
            animation: blink 0.8s step-end infinite;
            position: absolute;
            right: 4px;
            top: 50%;
            transform: translateY(-50%);
        }
        .song-input:focus + .cursor {
            display: block;
        }

        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }

        /* æ’­æ”¾åŠ¨ç”»åŒºåŸŸ */
        .playback-animation {
            text-align: center;
            color: var(--color-blue-dark);
            display: none; 
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
        }
        /* Y2K å”±ç‰‡æœº/CD å…ƒç´  */
        .rotating-cd {
            font-size: 80px;
            line-height: 1;
            margin-bottom: 10px;
            animation: spin 2s linear infinite;
        }
        /* æ’­æ”¾ä¿¡æ¯æ–‡å­— */
        .playing-info {
            font-size: 9px;
            color: var(--color-y2k-pink);
            padding: 5px 10px;
            border: 2px dashed var(--color-y2k-pink);
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* æ§åˆ¶æŒ‰é’®åŒºåŸŸ */
        .controls {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 10px; /* å¢åŠ æŒ‰é’®é—´è· */
        }

        /* åƒç´ é£æŒ‰é’® */
        .pixel-button {
            padding: 12px 18px; /* è°ƒæ•´å®½åº¦ä»¥é€‚åº”3ä¸ªæŒ‰é’® */
            background-color: var(--color-button); 
            color: #000000;
            border: 4px solid #000000;
            border-radius: 4px;
            font-family: 'PixelEmulator', monospace;
            font-size: 10px; /* è°ƒæ•´å­—ä½“å¤§å° */
            cursor: pointer;
            box-shadow: 4px 4px 0px #000000;
            transition: all 0.05s linear;
            user-select: none; /* é˜²æ­¢æ–‡æœ¬è¢«é€‰ä¸­ */
            white-space: nowrap; /* é˜²æ­¢æŒ‰é’®æ–‡å­—æ¢è¡Œ */
        }
        
        /* ç‰¹å®šæŒ‰é’®æ ·å¼è¦†ç›– */
        #backButton {
            background-color: #4dd0e1; /* æµ…è“è‰²ï¼Œä¸ä¸»è‰²è°ƒåŒºåˆ† */
        }
        
        /* æ’­æ”¾/ä¸‹ä¸€é¦–æŒ‰é’®æ ·å¼ */
        #playButton, #nextButton {
            font-size: 14px; /* æ’­æ”¾å’Œä¸‹ä¸€é¦–æŒ‰é’®å›¾æ ‡ä¿æŒå¤§å­—ä½“ */
        }

        /* æŒ‰é’®æŒ‰ä¸‹æ•ˆæœ */
        .pixel-button:active {
            box-shadow: 0px 0px 0px #000000;
            transform: translate(4px, 4px);
        }

        .pixel-button:disabled {
            background-color: #90a4ae;
            cursor: not-allowed;
            box-shadow: 4px 4px 0px #607d8b;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨éŸ©è¯­ä»‹ç»ï¼ŒY2K åƒç´ é£æ ¼ -->
    <div class="intro-section">
        <h1 class="intro-title">NCT WISH: WISH for Our WISH</h1>
        <p class="intro-text">
            âœ¨ ë„¤ì˜¤ ì»¬ì²˜ í…Œí¬ë†€ë¡œì§€, ì—”ì‹œí‹° ìœ„ì‹œ! ì €í¬ì˜ ìŒì•…ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì†Œì›ì´ í˜„ì‹¤ì´ ë˜ê¸°ë¥¼ ë°”ë¼ìš”. 
            ì²­ëŸ‰í•˜ê³  í¬ë§ì°¬ NCT WISHì˜ Y2K ê°ì„±ì„ ì§€ê¸ˆ ë°”ë¡œ ì•„ë˜ MP3 í”Œë ˆì´ì–´ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”! 
            ğŸ’« ğŸš€
        </p>
    </div>

    <!-- æˆå‘˜ä»‹ç»åŒºåŸŸ -->
    <div class="member-section">
        <h2 class="intro-title text-xl mb-4 text-center">æˆå‘˜æ¡£æ¡ˆ (MEMBER PROFILE)</h2>
        
        <div class="member-grid">
            <button class="member-button" data-member="sion">SION<br>(ì‹œì˜¨)</button>
            <button class="member-button" data-member="riku">RIKU<br>(ë¦¬ì¿ )</button>
            <button class="member-button" data-member="yushi">YUSHI<br>(ìœ ìš°ì‹œ)</button>
            <button class="member-button" data-member="jaehee">JAEHEE<br>(ì¬í¬)</button>
            <button class="member-button" data-member="ryo">RYO<br>(ë£Œ)</button>
            <button class="member-button" data-member="sakuya">SAKUYA<br>(ì‚¬ì¿ ì•¼)</button>
        </div>

        <div class="intro-section" id="profileDisplay">
            <p class="profile-info text-center">ç‚¹å‡»ä»»ä¸€æˆå‘˜æŒ‰é’®æŸ¥çœ‹ç®€ä»‹ âœ¨</p>
        </div>
    </div>
    
    <!-- MP3 æ’­æ”¾å™¨ä¸»ä½“ -->
    <div class="mp3-player">
        <!-- Y2K è£…é¥° -->
        <div class="y2k-deco star">â˜…</div>
        <div class="y2k-deco wing">ÊšÃ¯É</div>
        <div class="y2k-deco palm">ğŸŒ´</div>
        
        <!-- å±å¹•åŒºåŸŸ -->
        <div class="screen">
            <div class="input-area" id="inputArea">
                <div class="input-wrapper">
                    <input type="text" id="song1" class="song-input" placeholder="è¾“å…¥ nctwish çš„ color" value="nctwishçš„color" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---COLOR-Bazeafrika.com.mp3">
                    <span class="cursor"></span>
                </div>
                <div class="input-wrapper">
                    <input type="text" id="song2" class="song-input" placeholder="è¾“å…¥ nctwish çš„ surf" value="nctwishì˜surf" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---Surf-Bazeafrika.com.mp3">
                    <span class="cursor"></span>
                </div>
                <div class="input-wrapper">
                    <input type="text" id="song3" class="song-input" placeholder="è¾“å…¥ nctwish çš„ wichu" value="nctwishì˜wichu" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---WICHU-Bazeafrika.com.mp3">
                    <span class="cursor"></span>
                </div>
            </div>
            
            <!-- æ’­æ”¾åŠ¨ç”» -->
            <div class="playback-animation" id="playbackAnimation">
                <span class="rotating-cd">ğŸ“€</span> <!-- Y2K CD/å…‰ç›˜å›¾æ ‡ -->
                <div class="playing-info" id="playingInfo"></div>
            </div>
        </div>

        <div class="controls">
            <button class="pixel-button" id="backButton">ä¸»å±å¹•</button>
            <button class="pixel-button" id="playButton">â–¶ æ’­æ”¾</button>
            <button class="pixel-button" id="nextButton">â–¶â–¶ ä¸‹ä¸€é¦–</button>
        </div>
        
        <!-- éŸ³é¢‘æ’­æ”¾å™¨ (éšè—) -->
        <audio id="audioPlayer"></audio>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const playButton = document.getElementById('playButton');
            const nextButton = document.getElementById('nextButton');
            const backButton = document.getElementById('backButton'); 
            const audioPlayer = document.getElementById('audioPlayer');
            const inputArea = document.getElementById('inputArea');
            const playbackAnimation = document.getElementById('playbackAnimation');
            const playingInfo = document.getElementById('playingInfo');
            const songInputs = [
                document.getElementById('song1'),
                document.getElementById('song2'),
                document.getElementById('song3')
            ];
            
            // --- æˆå‘˜æ•°æ® (å·²æ›´æ–°ï¼šSion æè¿°å·²ä¿®æ”¹ï¼Œå»é™¤å®šä½) ---
            const members = {
                sion: {
                    korean: "ì‹œì˜¨ (SION)",
                    birthday: "2002.05.11",
                    info: "NCT WISHì˜ ë§í˜•ì´ì ë¦¬ë”. íŒ€ì„ ë“ ë“ í•˜ê²Œ ì´ëŒì–´ê°€ëŠ” ë©¤ë²„. (å›¢é˜Ÿä¸­çš„å¤§å“¥ï¼Œå¸¦é¢†ç€å›¢é˜Ÿçš„æˆå‘˜)", 
                    emoji: "ğŸŒ·" // éƒé‡‘é¦™
                },
                riku: {
                    korean: "ë¦¬ì¿  (RIKU)",
                    birthday: "2003.06.28",
                    info: "ë„˜ì¹˜ëŠ” ì—ë„ˆì§€ì™€ ë°ì€ ë¯¸ì†Œê°€ íŠ¸ë ˆì´ë“œë§ˆí¬ì¸ ë©¤ë²„. ë¬´ëŒ€ ìœ„ì—ì„œ ì–¸ì œë‚˜ ë¹›ë‚˜ìš”. (å……æ»¡æ´»åŠ›å’Œç¿çƒ‚ç¬‘å®¹çš„æˆå‘˜ã€‚åœ¨èˆå°ä¸Šæ€»æ˜¯é—ªè€€ç€å…‰èŠ’ã€‚)",
                    emoji: "ğŸ¿ï¸" // æ¾é¼ 
                },
                yushi: {
                    korean: "ìœ ìš°ì‹œ (YUSHI)",
                    birthday: "2004.04.05",
                    info: "ì‹œí¬í•œ ëˆˆë¹›ê³¼ ë¶€ë“œëŸ¬ìš´ ì¹´ë¦¬ìŠ¤ë§ˆê°€ ë‹ë³´ì´ëŠ” ë©¤ë²„. ë§¤ ìˆœê°„ ì„¬ì„¸í•œ í¼í¬ë¨¼ìŠ¤ë¥¼ ì„ ë³´ì…ë‹ˆë‹¤. (çœ¼ç¥é…·ç‚«ï¼Œæ¸©æŸ”é­…åŠ›åè¶³çš„æˆå‘˜ã€‚æ¯ä¸ªç¬é—´éƒ½å±•ç°å‡ºç»†è…»çš„è¡¨æ¼”ã€‚)",
                    emoji: "â­" // æ˜Ÿæ˜Ÿ
                },
                jaehee: {
                    korean: "ì¬í¬ (JAEHEE)",
                    birthday: "2005.06.21",
                    info: "íŒ€ì˜ ë¶„ìœ„ê¸° ë©”ì´ì»¤. í™œê¸°ì°¨ê³  ë°ì€ ë§¤ë ¥ìœ¼ë¡œ íŒ¬ë“¤ì—ê²Œ ê¸°ì¨ì„ ì„ ì‚¬í•©ë‹ˆë‹¤. (å›¢é˜Ÿçš„æ°›å›´åˆ¶é€ è€…ã€‚ä»¥æ´»æ³¼å¼€æœ—çš„é­…åŠ›å¸¦ç»™ç²‰ä¸å¿«ä¹ã€‚)",
                    emoji: "ğŸŒ³" // æ ‘
                },
                ryo: {
                    korean: "ë£Œ (RYO)",
                    birthday: "2007.08.04",
                    info: "ê·€ì—¬ìš´ ë¹„ì£¼ì–¼ê³¼ ë°˜ì „ë˜ëŠ” í¼í¬ë¨¼ìŠ¤ ì‹¤ë ¥ì„ ê°€ì§„ ë©¤ë²„. ë¬´í•œí•œ ì„±ì¥ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì£¼ê³  ìˆì–´ìš”. (æ‹¥æœ‰å¯çˆ±å¤–è²Œå’Œåè½¬èˆå°å®åŠ›çš„æˆå‘˜ã€‚å±•ç°å‡ºæ— é™çš„æˆé•¿å¯èƒ½æ€§ã€‚)",
                    emoji: "ğŸ¦¦" // æ°´ç­
                },
                sakuya: {
                    korean: "ì‚¬ì¿ ì•¼ (SAKUYA)",
                    birthday: "2007.11.18",
                    info: "íŒ€ì˜ ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë§‰ë‚´. í†¡í†¡ íŠ€ëŠ” ê°œì„±ê³¼ ë§¤ë ¥ìœ¼ë¡œ í˜•ë“¤ì˜ ì‚¬ë‘ì„ ë…ì°¨ì§€í•©ë‹ˆë‹¤. (å›¢é˜Ÿé‡Œå¯çˆ±çš„å¿™å†…ã€‚ä»¥ç‹¬ç‰¹çš„ä¸ªæ€§å’Œé­…åŠ›ç‹¬å å“¥å“¥ä»¬çš„å® çˆ±ã€‚)",
                    emoji: "ğŸ" // é¢åŒ…
                }
            };

            const memberButtons = document.querySelectorAll('.member-button');
            const profileDisplay = document.getElementById('profileDisplay');

            // --- æˆå‘˜ä¿¡æ¯å±•ç¤ºå‡½æ•° ---
            function displayProfile(memberKey) {
                const member = members[memberKey];
                if (!member) return;

                profileDisplay.style.display = 'block';
                profileDisplay.innerHTML = `
                    <p class="profile-title">â­ ${member.korean}</p>
                    <p class="profile-info mb-2">ğŸ‚ ìƒì¼ (Birthday): ${member.birthday}</p>
                    
                    <!-- ä»£è¡¨æ€§ Emoji åŒºåŸŸ (ä½¿ç”¨æˆå‘˜ä¸“å± Emoji) -->
                    <div style="margin-top: 15px; border-top: 2px dashed ${getComputedStyle(document.documentElement).getPropertyValue('--color-y2k-pink')}; padding-top: 15px; margin-bottom: 15px;">
                        <p class="profile-title text-center text-sm" style="font-size: 10px; color: var(--color-green-dark);">âœ¨ ä»£è¡¨ Emoji (REPRESENTATIVE EMOJI) âœ¨</p>
                        <!-- ä½¿ç”¨æˆå‘˜ä¸“å± Emojiï¼Œæ”¾å¤§æ˜¾ç¤º -->
                        <div class="profile-info text-center" style="color: var(--color-blue-dark); padding: 10px 0; border: 3px solid var(--color-blue-dark); background-color: #ffffff; line-height: 1.2; box-shadow: 4px 4px 0 var(--color-y2k-pink);">
                            <span style="font-size: 64px; line-height: 1;">${member.emoji}</span> 
                        </div>
                        <p class="profile-info text-center mt-2" style="font-size: 7px; color: var(--color-green-dark);">
                            (${member.korean.split('(')[0].trim()} çš„ä¸“å±ç¬¦å·)
                        </p>
                    </div>
                    
                    <p class="profile-info mt-3">âœ¨ ì†Œê°œ (Intro): ${member.info} âœ¨</p>
                `;
            }

            memberButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const memberKey = this.dataset.member;
                    displayProfile(memberKey);
                });
            });
            // --- æˆå‘˜æ•°æ®å’Œå±•ç¤ºé€»è¾‘ç»“æŸ ---


            let currentSongIndex = 0;
            let isPlaying = false;

            // è·å–æ›´æ–°åçš„æ­Œæ›²åˆ—è¡¨ (ä¾èµ–äºè¾“å…¥æ¡†çš„ data-url)
            function getUpdatedSongList() {
                return songInputs.map(input => ({
                    name: input.value,
                    url: input.dataset.url 
                }));
            }

            // æ’­æ”¾å‡½æ•°
            function playSong(startFromCurrent = false) {
                const list = getUpdatedSongList();
                // æ£€æŸ¥æ’­æ”¾åˆ—è¡¨æ˜¯å¦ä¸ºç©º
                if (list.length === 0) {
                    playingInfo.textContent = 'é”™è¯¯ï¼šæ­Œæ›²åˆ—è¡¨ä¸ºç©ºã€‚';
                    return;
                }

                // å¾ªç¯é€»è¾‘: æ’­æ”¾å®Œæœ€åä¸€é¦–åå›åˆ°ç¬¬ä¸€é¦–
                if (!startFromCurrent) {
                    if (currentSongIndex >= list.length) {
                        currentSongIndex = 0;
                    } else if (currentSongIndex < 0) {
                        currentSongIndex = list.length - 1;
                    }
                }


                const song = list[currentSongIndex];
                
                // è®¾ç½®éŸ³é¢‘æºå¹¶å°è¯•æ’­æ”¾
                audioPlayer.src = song.url;
                audioPlayer.load(); // å¼ºåˆ¶åŠ è½½æ–°æº
                
                audioPlayer.play()
                    .then(() => {
                        // æ’­æ”¾æˆåŠŸ
                        isPlaying = true;
                        playButton.textContent = 'â¸ æš‚åœ';
                        inputArea.style.display = 'none';
                        playbackAnimation.style.display = 'flex';
                        playingInfo.textContent = `æ’­æ”¾ä¸­: ${song.name.toUpperCase()}`;
                    })
                    .catch(error => {
                        // æ’­æ”¾å¤±è´¥ (å¦‚ç”¨æˆ·æœªäº¤äº’ã€URLé”™è¯¯ç­‰)
                        console.error("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", error);
                        playingInfo.textContent = `åŠ è½½å¤±è´¥: ${song.name.toUpperCase()}`;
                        
                        // æ’­æ”¾å¤±è´¥åï¼Œå¦‚æœæ˜¯åœ¨è‡ªåŠ¨è¿ç»­æ’­æ”¾æˆ–æŒ‰ Nextï¼Œåˆ™å°è¯•ä¸‹ä¸€é¦–
                        if (isPlaying || !startFromCurrent) {
                            currentSongIndex++;
                            setTimeout(playSong, 1000); // å»¶è¿Ÿ1ç§’å°è¯•ä¸‹ä¸€é¦–
                        } else {
                            // å¦‚æœæ˜¯ç”¨æˆ·ç‚¹å‡» Play å¤±è´¥ï¼Œåˆ™åœç•™åœ¨å½“å‰çŠ¶æ€
                            playButton.textContent = 'â–¶ æ’­æ”¾';
                            isPlaying = false;
                        }
                    });
            }
            
            // è¿”å›ä¸»å±å¹•å‡½æ•°
            function returnToHomeScreen() {
                audioPlayer.pause();
                audioPlayer.currentTime = 0; // é‡ç½®æ—¶é—´
                isPlaying = false;
                
                playButton.textContent = 'â–¶ æ’­æ”¾';
                currentSongIndex = 0; // é‡ç½®ç´¢å¼•
                
                // åˆ‡æ¢å±å¹•æ˜¾ç¤º
                inputArea.style.display = 'block';
                playbackAnimation.style.display = 'none';
                playingInfo.textContent = 'æ¬¢è¿å›æ¥ï¼';
            }

            // æ’­æ”¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            playButton.addEventListener('click', () => {
                if (!isPlaying) {
                    // æš‚åœ/åœæ­¢çŠ¶æ€ -> æ’­æ”¾
                    if (audioPlayer.paused && audioPlayer.src && audioPlayer.currentTime > 0) {
                        // ç»§ç»­æ’­æ”¾
                        audioPlayer.play()
                            .then(() => {
                                isPlaying = true;
                                playButton.textContent = 'â¸ æš‚åœ';
                                inputArea.style.display = 'none';
                                playbackAnimation.style.display = 'flex';
                                playingInfo.textContent = `æ’­æ”¾ä¸­: ${getUpdatedSongList()[currentSongIndex].name.toUpperCase()}`;
                            })
                            .catch(error => {
                                console.error("æ¢å¤æ’­æ”¾å¤±è´¥:", error);
                                // æ¢å¤å¤±è´¥ï¼Œä»å½“å‰ç´¢å¼•é‡æ–°å¼€å§‹æ’­æ”¾
                                playSong(true); 
                            });
                    } else {
                        // ä»å¤´å¼€å§‹æ’­æ”¾åˆ—è¡¨
                        currentSongIndex = 0;
                        playSong();
                    }
                } else {
                    // æ’­æ”¾çŠ¶æ€ -> æš‚åœ
                    audioPlayer.pause();
                    playButton.textContent = 'â–¶ æ’­æ”¾';
                    isPlaying = false;
                }
            });

            // ä¸‹ä¸€é¦–æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            nextButton.addEventListener('click', () => {
                currentSongIndex++; // ç´¢å¼•ç§»è‡³ä¸‹ä¸€é¦–
                audioPlayer.pause(); // æš‚åœå½“å‰æ’­æ”¾
                playSong(); // æ’­æ”¾ä¸‹ä¸€é¦–
            });

            // è¿”å›ä¸»å±å¹•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            backButton.addEventListener('click', returnToHomeScreen);


            // ç›‘å¬éŸ³é¢‘ç»“æŸäº‹ä»¶ï¼Œè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é¦–
            audioPlayer.addEventListener('ended', () => {
                currentSongIndex++;
                playSong();
            });

            // ç›‘å¬è¾“å…¥æ¡†ï¼Œç¡®ä¿å…‰æ ‡æ•ˆæœ
            songInputs.forEach(input => {
                input.addEventListener('focus', function() {
                    document.querySelectorAll('.cursor').forEach(c => c.style.display = 'none');
                    const cursor = this.nextElementSibling;
                    if (cursor && cursor.classList.contains('cursor')) {
                        cursor.style.display = 'block';
                    }
                });
                input.addEventListener('blur', function() {
                    const cursor = this.nextElementSibling;
                    if (cursor && cursor.classList.contains('cursor')) {
                        cursor.style.display = 'none';
                    }
                });
            });
            
            // åˆå§‹åŒ–æ—¶ç¡®ä¿æ˜¾ç¤ºè¾“å…¥ç•Œé¢
            returnToHomeScreen();
        });
    </script>
</body>
</html>
